Shader"Hidden/Camera-DepthNormalTexture"{Properties{_MainTex("",2D)="white"{}_Cutoff("",Float)=0.5_Color("",Color)=(1,1,1,1)}SubShader{Tags{"RenderType"="Opaque"}Pass{CGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"structv2f{float4pos:SV_POSITION;float4nz:TEXCOORD0;};v2fvert(appdata_basev){v2fo;o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}fixed4frag(v2fi):SV_Target{returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="TransparentCutout"}Pass{CGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"structv2f{float4pos:SV_POSITION;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};uniformfloat4_MainTex_ST;v2fvert(appdata_basev){v2fo;o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=TRANSFORM_TEX(v.texcoord,_MainTex);o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;uniformfixed_Cutoff;uniformfixed4_Color;fixed4frag(v2fi):SV_Target{fixed4texcol=tex2D(_MainTex,i.uv);clip(texcol.a*_Color.a-_Cutoff);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="TreeBark"}Pass{CGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"Lighting.cginc"#include"UnityBuiltin3xTreeLibrary.cginc"structv2f{float4pos:SV_POSITION;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};v2fvert(appdata_fullv){v2fo;TreeVertBark(v);o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=v.texcoord.xy;o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}fixed4frag(v2fi):SV_Target{returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="TreeLeaf"}Pass{CGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"Lighting.cginc"#include"UnityBuiltin3xTreeLibrary.cginc"structv2f{float4pos:SV_POSITION;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};v2fvert(appdata_fullv){v2fo;TreeVertLeaf(v);o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=v.texcoord.xy;o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;uniformfixed_Cutoff;fixed4frag(v2fi):SV_Target{halfalpha=tex2D(_MainTex,i.uv).a;clip(alpha-_Cutoff);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="TreeOpaque""DisableBatching"="True"}Pass{CGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"TerrainEngine.cginc"structv2f{float4pos:SV_POSITION;float4nz:TEXCOORD0;};structappdata{float4vertex:POSITION;float3normal:NORMAL;fixed4color:COLOR;};v2fvert(appdatav){v2fo;TerrainAnimateTree(v.vertex,v.color.w);o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}fixed4frag(v2fi):SV_Target{returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="TreeTransparentCutout""DisableBatching"="True"}Pass{CullBackCGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"TerrainEngine.cginc"structv2f{float4pos:SV_POSITION;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};structappdata{float4vertex:POSITION;float3normal:NORMAL;fixed4color:COLOR;float4texcoord:TEXCOORD0;};v2fvert(appdatav){v2fo;TerrainAnimateTree(v.vertex,v.color.w);o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=v.texcoord.xy;o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;uniformfixed_Cutoff;fixed4frag(v2fi):SV_Target{halfalpha=tex2D(_MainTex,i.uv).a;clip(alpha-_Cutoff);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}Pass{CullFrontCGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"TerrainEngine.cginc"structv2f{float4pos:SV_POSITION;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};structappdata{float4vertex:POSITION;float3normal:NORMAL;fixed4color:COLOR;float4texcoord:TEXCOORD0;};v2fvert(appdatav){v2fo;TerrainAnimateTree(v.vertex,v.color.w);o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=v.texcoord.xy;o.nz.xyz=-COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;uniformfixed_Cutoff;fixed4frag(v2fi):SV_Target{fixed4texcol=tex2D(_MainTex,i.uv);clip(texcol.a-_Cutoff);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="TreeBillboard"}Pass{CullOffCGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"TerrainEngine.cginc"structv2f{float4pos:SV_POSITION;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};v2fvert(appdata_tree_billboardv){v2fo;TerrainBillboardTree(v.vertex,v.texcoord1.xy,v.texcoord.y);o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv.x=v.texcoord.x;o.uv.y=v.texcoord.y>0;o.nz.xyz=float3(0,0,1);o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;fixed4frag(v2fi):SV_Target{fixed4texcol=tex2D(_MainTex,i.uv);clip(texcol.a-0.001);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="GrassBillboard"}Pass{CullOffCGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"TerrainEngine.cginc"structv2f{float4pos:SV_POSITION;fixed4color:COLOR;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};v2fvert(appdata_fullv){v2fo;WavingGrassBillboardVert(v);o.color=v.color;o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=v.texcoord.xy;o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;uniformfixed_Cutoff;fixed4frag(v2fi):SV_Target{fixed4texcol=tex2D(_MainTex,i.uv);fixedalpha=texcol.a*i.color.a;clip(alpha-_Cutoff);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}SubShader{Tags{"RenderType"="Grass"}Pass{CullOffCGPROGRAM#pragma vertex vert#pragma fragment frag#include"UnityCG.cginc"#include"TerrainEngine.cginc"structv2f{float4pos:SV_POSITION;fixed4color:COLOR;float2uv:TEXCOORD0;float4nz:TEXCOORD1;};v2fvert(appdata_fullv){v2fo;WavingGrassVert(v);o.color=v.color;o.pos=mul(UNITY_MATRIX_MVP,v.vertex);o.uv=v.texcoord;o.nz.xyz=COMPUTE_VIEW_NORMAL;o.nz.w=COMPUTE_DEPTH_01;returno;}uniformsampler2D_MainTex;uniformfixed_Cutoff;fixed4frag(v2fi):SV_Target{fixed4texcol=tex2D(_MainTex,i.uv);fixedalpha=texcol.a*i.color.a;clip(alpha-_Cutoff);returnEncodeDepthNormal(i.nz.w,i.nz.xyz);}ENDCG}}FallBackOff}